<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html>
<head>
	<base href="http://cellsites.github.io/">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta http-equiv="content-language" content="it" />
	<script type="text/javascript" src="jquery.js"></script>
	<link type="text/css" rel="stylesheet" href="stile.css" />
	<title>Measures on Google Maps, Add a ruler to Google Maps demo</title>


	<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
	<script type="text/javascript" src="http://www.barattalo.it/demo/labels.js"></script>
	<script type="text/javascript" src="ruler.js"></script>
	<script type="text/javascript">

	$(document).ready(function() {

		$("input").keypress(function(event) {
			if (event.which == 13) {
				event.preventDefault();
				$('#gotoplace').click();
			}
		});

		function startMap() {
			var myOptions = {
			  zoom: 10,
			  center:  new google.maps.LatLng(45.5,9.2) ,
			  mapTypeId: google.maps.MapTypeId.ROADMAP,
			  mapTypeControlOptions: {style: google.maps.MapTypeControlStyle.DROPDOWN_MENU}
			};
			map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);
		}
		
		startMap();

		function moveToLocation(lat, lng){
			var center = new google.maps.LatLng(lat, lng);
			// using global variable:
			map.panTo(center);
		}

		$('#gotoplace').click(function(e){
			e.preventDefault();
			$.post('ruler.php', 
				{
					act: "cerca",
					q: $('#q').val()
				},
				function(data){
					if (data!="ko") {
						var temp = data.split(",");
						moveToLocation(temp[0], temp[1]);
					} else {
						alert("Location not found.");
					}
				});
		});

		$('#addruler').click(function(e){
			e.preventDefault();

			// refresh map
			$('.refresh iframe').each(function(){
				$url = $(this).attr("src");
				$(this).attr("src","about:blank");
				$(this).attr("src",$url);
			});

			// add the ruler
			addruler();
		});

	});
	
	</script>

	<style>
		#map_canvas { float:left; width:728px; height:400px; margin:10px;}
	</style>
</head>
<body>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-3189741-1']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
<div class="wrapper">
    <script type="text/javascript" src="labels.js"></script>

	<h2 class='toph2'>Free tool online, measure distances on Google Maps</h2>
	<h1>RULER ON GOOGLE MAPS</h1>
	<p style='padding:20px 0'>
		Free online tool to measure distances on Google Maps. You can download the source code in a single <a href="ruler.zip">ruler.zip</a> file. You can find more informations about how to make a ruler in javascript for Google Maps in this post: <a href="http://www.barattalo.it/2009/12/19/ruler-for-google-maps-v3-to-measure-distance-on-map/">Ruler for Google Maps v.3 to measure distance on a map</a>.<br/>
		Instructions:<br/>
		1) Choose a new location and press GO THERE.<br/>
		2) Or stay here and press ADD A RULER button to add a ruler<br/>
		3) Drag the markers to make the measure.<br/>
		<br/>
		You can add many rulers, simply by pressing the buttun again.
	</p>
	<form>
		<input id='q' type='text' placeholder='change map location to...' name='place' value=""/>
		<input style='float:right' class='button' type='button' id='addruler' value='Add a ruler to Google Map'/>
		<input class='button' type='button' id='gotoplace' value='Go There'/>
	</form>
	<div id="map_canvas"></div>
</div>

<div class='wrapper refresh' style='text-align:center'>
	<iframe src="http://www.barattalo.it/demo/refresh-banner-iframe.php" width="728" height="90"></iframe>
</div>


<div class='wrapper' style='padding-top:20px'>
	<h2 class='toph2'>Free online tools:</h2>
	<ul>
		<li><a href="http://www.barattalo.it/measure-distance-google-maps">Ruler to measure distances on Google Maps</a></li>
		<li><a href="http://www.barattalo.it/convert-address-lat-long">Convert an address to Latitude and Longitude</a></li>
		<li><a href="http://www.barattalo.it/email-smtp-validation">Email validation with SMTP</a></li>
		<li><a href="http://www.barattalo.it/whois">Whois tool</a></li>
		<li><a href="http://www.barattalo.it/instapostcards">Send instagram images via email as postcards</a></li>
	</ul>
</div></body>
</html>
